#Â RMSD and PCAVARS

One of the things that has bothered me for some time RMSD. RMSD is used in many different methods.  Furthermore, in many of these methods the RMSD can be replaced with a simple 
Eudlidean distance that is calculated by taking the difference between two sets of argument values. For these methods I always wanted to write one impelementation that would work with 
both RMSD and Euclidean distances. However, I feel like the impelementations of these things that I wrote in the past were always an overcomplicated mess.  I now think that I have written 
something simpler that still provides the same flexibility.  I would like to explain how this works by discussing how PCAVARS are implemented.

Before getting into the code lets first briefly recap the theory. When you calculate a PCA variable you are essentially projecting a vector connecting the instantaneous configuration to some 
reference configuration on to a reference vector.  In other words, a PCA variable is computed by taking the a dot product like this

$$
s = \sum_{i=1}^n v_i (x_i - y_i)
$$

where $v_i$ represents the components of the reference vector, $x_i$ is the instantenous position and $y_i$ is the reference position.  When this is done with RMSD you do an alignment (i.e. a removal
of translation and rotation of atoms) before calculating the $(x_i - y_i)$ values by calculating how far each position has moved relative to the reference structure.

You can implement this type of CV in plumed by using the following plumed input.

{% raw %}
<div class="plumedpreheader">
<div class="headerInfo" id="value_details_data/RMSD.md_working_1.dat"> Click on the labels of the actions for more information on what each action computes </div>
<div class="containerBadge">
<div class="headerBadge"><a href="RMSD.md_working_1.dat.plumed.stderr"><img src="https://img.shields.io/badge/v2.9-failed-red.svg" alt="tested onv2.9" /></a></div>
<div class="headerBadge"><a href="RMSD.md_working_1.dat.plumed_master.stderr"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested onmaster" /></a></div>
</div>
</div>
<pre class="plumedlisting">
<b name="data/RMSD.md_working_1.datv" onclick='showPath("data/RMSD.md_working_1.dat","data/RMSD.md_working_1.datv","data/RMSD.md_working_1.datv","red")'>v</b><span style="display:none;" id="data/RMSD.md_working_1.datv">The CONSTANT action with label <b>v</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">v</td><td width="5%"><font color="red">matrix</font></td><td>the constant value that was read from the plumed input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CONSTANT<span class="right">Create a constant value that can be passed to actions <a href="https://www.plumed.org/doc-master/user-doc/html/CONSTANT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">VALUES<span class="right">the numbers that are in your constant value<i></i></span></span>=0.123253,0.077840,0.018043,0.027632,0.290613,-0.095447,-0.279804,-0.530408,-0.026324,-0.124997,0.027980,0.068251,-0.054555,-0.094179,-0.041060,-0.033738,-0.392797,-0.306944,-0.303786,-0.401124,-0.000431,0.010767,-0.083125,-0.055704 <span class="plumedtooltip">NCOLS<span class="right"> the number of columns in your matrix<i></i></span></span>=12 <span class="plumedtooltip">NROWS<span class="right"> the number of rows in your input matrix<i></i></span></span>=2
<span id="data/RMSD.md_working_1.datrmsd_short"><span id="data/RMSD.md_working_1.datdefrmsd_short"><b name="data/RMSD.md_working_1.datrmsd" onclick='showPath("data/RMSD.md_working_1.dat","data/RMSD.md_working_1.datrmsd","data/RMSD.md_working_1.datrmsd","brown")'>rmsd</b><span style="display:none;" id="data/RMSD.md_working_1.datrmsd">The RMSD action with label <b>rmsd</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">rmsd.dist</td><td width="5%"><font color="black">scalar</font></td><td>the RMSD distance the atoms have moved</td></tr><tr><td width="5%">rmsd.disp</td><td width="5%"><font color="blue">vector</font></td><td>the vector of displacements for the atoms</td></tr></table></span>: <span class="plumedtooltip" style="color:green">RMSD<span class="right">Calculate the RMSD with respect to a reference structure. This action is <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_1.datrmsd");'>a shortcut</a> and it has <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_1.datdefrmsd");'>hidden defaults</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/RMSD">More details</a><i></i></span></span> <span class="plumedtooltip">REFERENCE<span class="right">a file in pdb format containing the reference structure and the atoms involved in the CV<i></i></span></span>=reference.pdb <span class="plumedtooltip">TYPE<span class="right"> the manner in which RMSD alignment is performed<i></i></span></span>=OPTIMAL <span class="plumedtooltip">DISPLACEMENT<span class="right"> Calculate the vector of displacements instead of the length of this vector<i></i></span></span> <span class="plumedtooltip">SQUARED<span class="right">  This should be setted if you want MSD instead of RMSD <i></i></span></span>
</span><span id="data/RMSD.md_working_1.datdefrmsd_long" style="display:none;"><b name="data/RMSD.md_working_1.datrmsd" onclick='showPath("data/RMSD.md_working_1.dat","data/RMSD.md_working_1.datrmsd","data/RMSD.md_working_1.datrmsd","brown")'>rmsd</b>: <span class="plumedtooltip" style="color:green">RMSD<span class="right">Calculate the RMSD with respect to a reference structure. This action is <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_1.datrmsd");'>a shortcut</a> and uses the <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_1.datdefrmsd");'>defaults shown here</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/RMSD">More details</a><i></i></span></span> <span class="plumedtooltip">REFERENCE<span class="right">a file in pdb format containing the reference structure and the atoms involved in the CV<i></i></span></span>=reference.pdb <span class="plumedtooltip">TYPE<span class="right"> the manner in which RMSD alignment is performed<i></i></span></span>=OPTIMAL <span class="plumedtooltip">DISPLACEMENT<span class="right"> Calculate the vector of displacements instead of the length of this vector<i></i></span></span> <span class="plumedtooltip">SQUARED<span class="right">  This should be setted if you want MSD instead of RMSD <i></i></span></span>  <span class="plumedtooltip">NUMBER<span class="right"> if there are multiple structures in the pdb file you can specify that you want the RMSD from a specific structure by specifying its place in the file here<i></i></span></span>=0
</span></span><span id="data/RMSD.md_working_1.datrmsd_long" style="display:none;"><span style="color:blue" class="comment"># PLUMED interprets the command:
</span><span class="toggler" style="color:red" onclick='toggleDisplay("data/RMSD.md_working_1.datrmsd")'># rmsd: RMSD REFERENCE=reference.pdb TYPE=OPTIMAL DISPLACEMENT SQUARED</span>
<span style="color:blue" class="comment"># as follows (Click the red comment above to revert to the short version of the input):</span>
<b name="data/RMSD.md_working_1.datrmsd_ref" onclick='showPath("data/RMSD.md_working_1.dat","data/RMSD.md_working_1.datrmsd_ref","data/RMSD.md_working_1.datrmsd_ref","red")'>rmsd_ref</b><span style="display:none;" id="data/RMSD.md_working_1.datrmsd_ref">The CONSTANT action with label <b>rmsd_ref</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">rmsd_ref</td><td width="5%"><font color="red">matrix</font></td><td>the constant value that was read from the plumed input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">PDB2CONSTANT<span class="right">Create a constant value from a PDB input file <a href="https://www.plumed.org/doc-master/user-doc/html/PDB2CONSTANT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">REFERENCE<span class="right">a file in pdb format containing the reference structure<i></i></span></span>=reference.pdb <span class="plumedtooltip">NUMBER<span class="right"> if there are multiple structures in the pdb file you can specify that you want the RMSD from a specific structure by specifying its place in the file here<i></i></span></span>=0
<span class="plumedtooltip" style="color:green">WHOLEMOLECULES<span class="right">This action is used to rebuild molecules that can become split by the periodic boundary conditions. <a href="https://www.plumed.org/doc-master/user-doc/html/WHOLEMOLECULES" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ENTITY0<span class="right">the atoms that make up a molecule that you wish to align<i></i></span></span>=2,5,9,13
<span style="display:none;" id="data/RMSD.md_working_1.dat">The WHOLEMOLECULES action with label <b></b> calculates something</span><b name="data/RMSD.md_working_1.datrmsd_cpos" onclick='showPath("data/RMSD.md_working_1.dat","data/RMSD.md_working_1.datrmsd_cpos","data/RMSD.md_working_1.datrmsd_cpos","blue")'>rmsd_cpos</b><span style="display:none;" id="data/RMSD.md_working_1.datrmsd_cpos">The POSITION action with label <b>rmsd_cpos</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">rmsd_cpos.x</td><td width="5%"><font color="blue">vector</font></td><td>the x-component of the atom position</td></tr><tr><td width="5%">rmsd_cpos.y</td><td width="5%"><font color="blue">vector</font></td><td>the y-component of the atom position</td></tr><tr><td width="5%">rmsd_cpos.z</td><td width="5%"><font color="blue">vector</font></td><td>the z-component of the atom position</td></tr></table></span>: <span class="plumedtooltip" style="color:green">POSITION<span class="right">Calculate the components of the position of an atom or atoms. <a href="https://www.plumed.org/doc-master/user-doc/html/POSITION" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">NOPBC<span class="right"> ignore the periodic boundary conditions when calculating distances<i></i></span></span> <span class="plumedtooltip">ATOMS<span class="right">the atom numbers that you would like to use the positions of<i></i></span></span>=2,5,9,13
<b name="data/RMSD.md_working_1.datrmsd_pos" onclick='showPath("data/RMSD.md_working_1.dat","data/RMSD.md_working_1.datrmsd_pos","data/RMSD.md_working_1.datrmsd_pos","blue")'>rmsd_pos</b><span style="display:none;" id="data/RMSD.md_working_1.datrmsd_pos">The CONCATENATE action with label <b>rmsd_pos</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">rmsd_pos</td><td width="5%"><font color="blue">vector</font></td><td>the concatenated vector/matrix that was constructed from the input values</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CONCATENATE<span class="right">Join vectors or matrices together <a href="https://www.plumed.org/doc-master/user-doc/html/CONCATENATE" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the values that should be concatenated together to form the output vector<i></i></span></span>=<b name="data/RMSD.md_working_1.datrmsd_cpos">rmsd_cpos.x</b>,<b name="data/RMSD.md_working_1.datrmsd_cpos">rmsd_cpos.y</b>,<b name="data/RMSD.md_working_1.datrmsd_cpos">rmsd_cpos.z</b>
<span style="color:blue"># --- End of included input --- </span></span><b name="data/RMSD.md_working_1.datpca" onclick='showPath("data/RMSD.md_working_1.dat","data/RMSD.md_working_1.datpca","data/RMSD.md_working_1.datpca","blue")'>pca</b><span style="display:none;" id="data/RMSD.md_working_1.datpca">The MATRIX_VECTOR_PRODUCT action with label <b>pca</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca</td><td width="5%"><font color="blue">vector</font></td><td>the vector that is obtained by taking the product between the matrix and the vector that were input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">MATRIX_VECTOR_PRODUCT<span class="right">Calculate the product of the matrix and the vector <a href="https://www.plumed.org/doc-master/user-doc/html/MATRIX_VECTOR_PRODUCT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the label for the matrix and the vector/scalar that are being multiplied<i></i></span></span>=<b name="data/RMSD.md_working_1.datv">v</b>,<b name="data/RMSD.md_working_1.datrmsd">rmsd.disp</b>
<span class="plumedtooltip" style="color:green">PRINT<span class="right">Print quantities to a file. <a href="https://www.plumed.org/doc-master/user-doc/html/PRINT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the labels of the values that you would like to print to the file<i></i></span></span>=<b name="data/RMSD.md_working_1.datpca">pca</b> <span class="plumedtooltip">FILE<span class="right">the name of the file on which to output these quantities<i></i></span></span>=colvar
</pre>
 {% endraw %} 

The reference.pdb file for the above input looks as follows:

````
ATOM      2  CH3 ACE     1      12.932 -14.718  -6.016  1.00  1.00
ATOM      5  C   ACE     1      21.312  -9.928  -5.946  1.00  1.00
ATOM      9  CA  ALA     2      19.462 -11.088  -8.986  1.00  1.00
ATOM     13  HB2 ALA     2      21.112 -10.688 -12.476  1.00  1.00
END
````

The CV is thus based on the displacement in the positions of these four atoms from the reference structure.  The command RMSD calculates the displacements of these four atoms, which are the $(x_i - y_i)$ values from the equation above.  I then calculate the projection on the 
vectors of interest by doing matrix multiplication.  In the case above I calculate the projection on two vectors as my matrix has two rows.

A similar input can be used to calculate these PCA projections in a CV space as shown below.  For example in the input file below I am doing a projection of a vector between the instantaneous configuration and a reference in a space defined by three distances on a reference vector.

{% raw %}
<div class="plumedpreheader">
<div class="headerInfo" id="value_details_data/RMSD.md_working_2.dat"> Click on the labels of the actions for more information on what each action computes </div>
<div class="containerBadge">
<div class="headerBadge"><a href="RMSD.md_working_2.dat.plumed.stderr"><img src="https://img.shields.io/badge/v2.9-failed-red.svg" alt="tested onv2.9" /></a></div>
<div class="headerBadge"><a href="RMSD.md_working_2.dat.plumed_master.stderr"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested onmaster" /></a></div>
</div>
</div>
<pre class="plumedlisting">
<b name="data/RMSD.md_working_2.datd1" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datd1","data/RMSD.md_working_2.datd1","black")'>d1</b><span style="display:none;" id="data/RMSD.md_working_2.datd1">The DISTANCE action with label <b>d1</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">d1</td><td width="5%"><font color="black">scalar</font></td><td>the DISTANCE between this pair of atoms</td></tr></table></span>: <span class="plumedtooltip" style="color:green">DISTANCE<span class="right">Calculate the distance/s between pairs of atoms. <a href="https://www.plumed.org/doc-master/user-doc/html/DISTANCE" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ATOMS<span class="right">the pair of atom that we are calculating the distance between<i></i></span></span>=1,2
<b name="data/RMSD.md_working_2.datd2" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datd2","data/RMSD.md_working_2.datd2","black")'>d2</b><span style="display:none;" id="data/RMSD.md_working_2.datd2">The DISTANCE action with label <b>d2</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">d2</td><td width="5%"><font color="black">scalar</font></td><td>the DISTANCE between this pair of atoms</td></tr></table></span>: <span class="plumedtooltip" style="color:green">DISTANCE<span class="right">Calculate the distance/s between pairs of atoms. <a href="https://www.plumed.org/doc-master/user-doc/html/DISTANCE" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ATOMS<span class="right">the pair of atom that we are calculating the distance between<i></i></span></span>=1,2
<b name="data/RMSD.md_working_2.datd3" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datd3","data/RMSD.md_working_2.datd3","black")'>d3</b><span style="display:none;" id="data/RMSD.md_working_2.datd3">The DISTANCE action with label <b>d3</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">d3</td><td width="5%"><font color="black">scalar</font></td><td>the DISTANCE between this pair of atoms</td></tr></table></span>: <span class="plumedtooltip" style="color:green">DISTANCE<span class="right">Calculate the distance/s between pairs of atoms. <a href="https://www.plumed.org/doc-master/user-doc/html/DISTANCE" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ATOMS<span class="right">the pair of atom that we are calculating the distance between<i></i></span></span>=1,2

<span id="data/RMSD.md_working_2.datdefd1_ref_short"><b name="data/RMSD.md_working_2.datd1_ref" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datd1_ref","data/RMSD.md_working_2.datd1_ref","black")'>d1_ref</b><span style="display:none;" id="data/RMSD.md_working_2.datd1_ref">The CONSTANT action with label <b>d1_ref</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">d1_ref</td><td width="5%"><font color="black">scalar</font></td><td>the constant value that was read from the plumed input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CONSTANT<span class="right">Create a constant value that can be passed to actions This action has <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_2.datdefd1_ref");'>hidden defaults</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/CONSTANT">More details</a><i></i></span></span> <span class="plumedtooltip">VALUE<span class="right">the single number that you would like to store<i></i></span></span>=0.1221 
</span><span id="data/RMSD.md_working_2.datdefd1_ref_long" style="display:none;"><b name="data/RMSD.md_working_2.datd1_ref" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datd1_ref","data/RMSD.md_working_2.datd1_ref","black")'>d1_ref</b>: <span class="plumedtooltip" style="color:green">CONSTANT<span class="right">Create a constant value that can be passed to actions This action uses the <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_2.datdefd1_ref");'>defaults shown here</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/CONSTANT">More details</a><i></i></span></span> <span class="plumedtooltip">VALUE<span class="right">the single number that you would like to store<i></i></span></span>=0.1221  <span class="plumedtooltip">NROWS<span class="right"> the number of rows in your input matrix<i></i></span></span>=0 <span class="plumedtooltip">NCOLS<span class="right"> the number of columns in your matrix<i></i></span></span>=0
</span><span id="data/RMSD.md_working_2.datdefd2_ref_short"><b name="data/RMSD.md_working_2.datd2_ref" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datd2_ref","data/RMSD.md_working_2.datd2_ref","black")'>d2_ref</b><span style="display:none;" id="data/RMSD.md_working_2.datd2_ref">The CONSTANT action with label <b>d2_ref</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">d2_ref</td><td width="5%"><font color="black">scalar</font></td><td>the constant value that was read from the plumed input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CONSTANT<span class="right">Create a constant value that can be passed to actions This action has <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_2.datdefd2_ref");'>hidden defaults</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/CONSTANT">More details</a><i></i></span></span> <span class="plumedtooltip">VALUE<span class="right">the single number that you would like to store<i></i></span></span>=0.0979
</span><span id="data/RMSD.md_working_2.datdefd2_ref_long" style="display:none;"><b name="data/RMSD.md_working_2.datd2_ref" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datd2_ref","data/RMSD.md_working_2.datd2_ref","black")'>d2_ref</b>: <span class="plumedtooltip" style="color:green">CONSTANT<span class="right">Create a constant value that can be passed to actions This action uses the <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_2.datdefd2_ref");'>defaults shown here</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/CONSTANT">More details</a><i></i></span></span> <span class="plumedtooltip">VALUE<span class="right">the single number that you would like to store<i></i></span></span>=0.0979  <span class="plumedtooltip">NROWS<span class="right"> the number of rows in your input matrix<i></i></span></span>=0 <span class="plumedtooltip">NCOLS<span class="right"> the number of columns in your matrix<i></i></span></span>=0
</span><span id="data/RMSD.md_working_2.datdefd3_ref_short"><b name="data/RMSD.md_working_2.datd3_ref" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datd3_ref","data/RMSD.md_working_2.datd3_ref","black")'>d3_ref</b><span style="display:none;" id="data/RMSD.md_working_2.datd3_ref">The CONSTANT action with label <b>d3_ref</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">d3_ref</td><td width="5%"><font color="black">scalar</font></td><td>the constant value that was read from the plumed input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CONSTANT<span class="right">Create a constant value that can be passed to actions This action has <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_2.datdefd3_ref");'>hidden defaults</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/CONSTANT">More details</a><i></i></span></span> <span class="plumedtooltip">VALUE<span class="right">the single number that you would like to store<i></i></span></span>=0.1079
</span><span id="data/RMSD.md_working_2.datdefd3_ref_long" style="display:none;"><b name="data/RMSD.md_working_2.datd3_ref" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datd3_ref","data/RMSD.md_working_2.datd3_ref","black")'>d3_ref</b>: <span class="plumedtooltip" style="color:green">CONSTANT<span class="right">Create a constant value that can be passed to actions This action uses the <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_2.datdefd3_ref");'>defaults shown here</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/CONSTANT">More details</a><i></i></span></span> <span class="plumedtooltip">VALUE<span class="right">the single number that you would like to store<i></i></span></span>=0.1079  <span class="plumedtooltip">NROWS<span class="right"> the number of rows in your input matrix<i></i></span></span>=0 <span class="plumedtooltip">NCOLS<span class="right"> the number of columns in your matrix<i></i></span></span>=0
</span><br/><span id="data/RMSD.md_working_2.datdefv_short"><b name="data/RMSD.md_working_2.datv" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datv","data/RMSD.md_working_2.datv","blue")'>v</b><span style="display:none;" id="data/RMSD.md_working_2.datv">The CONSTANT action with label <b>v</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">v</td><td width="5%"><font color="blue">vector</font></td><td>the constant value that was read from the plumed input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CONSTANT<span class="right">Create a constant value that can be passed to actions This action has <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_2.datdefv");'>hidden defaults</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/CONSTANT">More details</a><i></i></span></span> <span class="plumedtooltip">VALUES<span class="right">the numbers that are in your constant value<i></i></span></span>=0.078811,-0.945732,-0.315244 
</span><span id="data/RMSD.md_working_2.datdefv_long" style="display:none;"><b name="data/RMSD.md_working_2.datv" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datv","data/RMSD.md_working_2.datv","blue")'>v</b>: <span class="plumedtooltip" style="color:green">CONSTANT<span class="right">Create a constant value that can be passed to actions This action uses the <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_2.datdefv");'>defaults shown here</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/CONSTANT">More details</a><i></i></span></span> <span class="plumedtooltip">VALUES<span class="right">the numbers that are in your constant value<i></i></span></span>=0.078811,-0.945732,-0.315244  <span class="plumedtooltip">NROWS<span class="right"> the number of rows in your input matrix<i></i></span></span>=0 <span class="plumedtooltip">NCOLS<span class="right"> the number of columns in your matrix<i></i></span></span>=0
</span><span id="data/RMSD.md_working_2.datdisp_short"><b name="data/RMSD.md_working_2.datdisp" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datdisp","data/RMSD.md_working_2.datdisp_shortcut","red")'>disp</b><span style="display:none;" id="data/RMSD.md_working_2.datdisp_shortcut">The DISPLACEMENT action with label <b>disp</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">disp</td><td width="5%"><font color="red">matrix</font></td><td>the differences between the input arguments</td></tr></table></span>: <span class="plumedtooltip" style="color:green">DISPLACEMENT<span class="right">Calculate the displacement vector between the pair of input vectors This action is <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_2.datdisp");'>a shortcut</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/DISPLACEMENT">More details</a><i></i></span></span> <span class="plumedtooltip">ARG1<span class="right">The point that we are calculating the distance from<i></i></span></span>=<b name="data/RMSD.md_working_2.datd1">d1</b>,<b name="data/RMSD.md_working_2.datd2">d2</b>,<b name="data/RMSD.md_working_2.datd3">d3</b> <span class="plumedtooltip">ARG2<span class="right">The point that we are calculating the distance to<i></i></span></span>=<b name="data/RMSD.md_working_2.datd1_ref">d1_ref</b>,<b name="data/RMSD.md_working_2.datd2_ref">d2_ref</b>,<b name="data/RMSD.md_working_2.datd3_ref">d3_ref</b>
</span><span id="data/RMSD.md_working_2.datdisp_long" style="display:none;"><span style="color:blue" class="comment"># PLUMED interprets the command:
</span><span class="toggler" style="color:red" onclick='toggleDisplay("data/RMSD.md_working_2.datdisp")'># disp: DISPLACEMENT ARG1=d1,d2,d3 ARG2=d1_ref,d2_ref,d3_ref</span>
<span style="color:blue" class="comment"># as follows (Click the red comment above to revert to the short version of the input):</span>
<b name="data/RMSD.md_working_2.datdisp_d1_diff" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datdisp_d1_diff","data/RMSD.md_working_2.datdisp_d1_diff","black")'>disp_d1_diff</b><span style="display:none;" id="data/RMSD.md_working_2.datdisp_d1_diff">The DIFFERENCE action with label <b>disp_d1_diff</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">disp_d1_diff</td><td width="5%"><font color="black">scalar</font></td><td>a function that measures the difference</td></tr></table></span>: <span class="plumedtooltip" style="color:green">DIFFERENCE<span class="right">Calculate the differences between two scalars or vectors <a href="https://www.plumed.org/doc-master/user-doc/html/DIFFERENCE" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the values input to this function<i></i></span></span>=<b name="data/RMSD.md_working_2.datd1">d1</b>,<b name="data/RMSD.md_working_2.datd1_ref">d1_ref</b>
<b name="data/RMSD.md_working_2.datdisp_d2_diff" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datdisp_d2_diff","data/RMSD.md_working_2.datdisp_d2_diff","black")'>disp_d2_diff</b><span style="display:none;" id="data/RMSD.md_working_2.datdisp_d2_diff">The DIFFERENCE action with label <b>disp_d2_diff</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">disp_d2_diff</td><td width="5%"><font color="black">scalar</font></td><td>a function that measures the difference</td></tr></table></span>: <span class="plumedtooltip" style="color:green">DIFFERENCE<span class="right">Calculate the differences between two scalars or vectors <a href="https://www.plumed.org/doc-master/user-doc/html/DIFFERENCE" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the values input to this function<i></i></span></span>=<b name="data/RMSD.md_working_2.datd2">d2</b>,<b name="data/RMSD.md_working_2.datd2_ref">d2_ref</b>
<b name="data/RMSD.md_working_2.datdisp_d3_diff" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datdisp_d3_diff","data/RMSD.md_working_2.datdisp_d3_diff","black")'>disp_d3_diff</b><span style="display:none;" id="data/RMSD.md_working_2.datdisp_d3_diff">The DIFFERENCE action with label <b>disp_d3_diff</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">disp_d3_diff</td><td width="5%"><font color="black">scalar</font></td><td>a function that measures the difference</td></tr></table></span>: <span class="plumedtooltip" style="color:green">DIFFERENCE<span class="right">Calculate the differences between two scalars or vectors <a href="https://www.plumed.org/doc-master/user-doc/html/DIFFERENCE" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the values input to this function<i></i></span></span>=<b name="data/RMSD.md_working_2.datd3">d3</b>,<b name="data/RMSD.md_working_2.datd3_ref">d3_ref</b>
<b name="data/RMSD.md_working_2.datdisp" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datdisp","data/RMSD.md_working_2.datdisp","red")'>disp</b><span style="display:none;" id="data/RMSD.md_working_2.datdisp">The VSTACK action with label <b>disp</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">disp</td><td width="5%"><font color="red">matrix</font></td><td>a matrix that contains the input vectors in its columns</td></tr></table></span>: <span class="plumedtooltip" style="color:green">VSTACK<span class="right">Create a matrix by stacking vectors together <a href="https://www.plumed.org/doc-master/user-doc/html/VSTACK" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the values that you would like to stack together to construct the output matrix<i></i></span></span>=<b name="data/RMSD.md_working_2.datdisp_d1_diff">disp_d1_diff</b>,<b name="data/RMSD.md_working_2.datdisp_d2_diff">disp_d2_diff</b>,<b name="data/RMSD.md_working_2.datdisp_d3_diff">disp_d3_diff</b>
<span style="color:blue"># --- End of included input --- </span></span><b name="data/RMSD.md_working_2.datpca" onclick='showPath("data/RMSD.md_working_2.dat","data/RMSD.md_working_2.datpca","data/RMSD.md_working_2.datpca","blue")'>pca</b><span style="display:none;" id="data/RMSD.md_working_2.datpca">The MATRIX_VECTOR_PRODUCT action with label <b>pca</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca</td><td width="5%"><font color="blue">vector</font></td><td>the vector that is obtained by taking the product between the matrix and the vector that were input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">MATRIX_VECTOR_PRODUCT<span class="right">Calculate the product of the matrix and the vector <a href="https://www.plumed.org/doc-master/user-doc/html/MATRIX_VECTOR_PRODUCT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the label for the matrix and the vector/scalar that are being multiplied<i></i></span></span>=<b name="data/RMSD.md_working_2.datdisp">disp</b>,<b name="data/RMSD.md_working_2.datv">v</b>
<span class="plumedtooltip" style="color:green">PRINT<span class="right">Print quantities to a file. <a href="https://www.plumed.org/doc-master/user-doc/html/PRINT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the labels of the values that you would like to print to the file<i></i></span></span>=<b name="data/RMSD.md_working_2.datpca">pca</b>
</pre>
 {% endraw %} 

The only difference between this input and the previous that used the RMSD displacement is the line that calculates the displacement.  In the previous input we used RMSD whereas here we use DISPLACEMENT instead. For the user the fact that there is only a small difference in the two 
methods is hopefully clear. In addition, when things are implemented in this way it is hopefully easy for users to work with exotic methods of calculating the displacement vector (e.g. combinations of RMSD displacements and differences in arguments).  They can implement these new metrics
without writing new code by working in the input file directly.

If users want a simpler syntax, however, there is a shortcut provided that allows them to get use the older syntax for PCAVARS.  For example, the input below will compute the same quantity as the second input above:

{% raw %}
<div class="plumedpreheader">
<div class="headerInfo" id="value_details_data/RMSD.md_working_3.dat"> Click on the labels of the actions for more information on what each action computes </div>
<div class="containerBadge">
<div class="headerBadge"><a href="RMSD.md_working_3.dat.plumed.stderr"><img src="https://img.shields.io/badge/v2.9-failed-red.svg" alt="tested onv2.9" /></a></div>
<div class="headerBadge"><a href="RMSD.md_working_3.dat.plumed_master.stderr"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested onmaster" /></a></div>
</div>
</div>
<pre class="plumedlisting">
<b name="data/RMSD.md_working_3.datt1" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datt1","data/RMSD.md_working_3.datt1","black")'>t1</b><span style="display:none;" id="data/RMSD.md_working_3.datt1">The DISTANCE action with label <b>t1</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">t1</td><td width="5%"><font color="black">scalar</font></td><td>the DISTANCE between this pair of atoms</td></tr></table></span>: <span class="plumedtooltip" style="color:green">DISTANCE<span class="right">Calculate the distance/s between pairs of atoms. <a href="https://www.plumed.org/doc-master/user-doc/html/DISTANCE" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ATOMS<span class="right">the pair of atom that we are calculating the distance between<i></i></span></span>=1,2
<b name="data/RMSD.md_working_3.datt2" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datt2","data/RMSD.md_working_3.datt2","black")'>t2</b><span style="display:none;" id="data/RMSD.md_working_3.datt2">The DISTANCE action with label <b>t2</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">t2</td><td width="5%"><font color="black">scalar</font></td><td>the DISTANCE between this pair of atoms</td></tr></table></span>: <span class="plumedtooltip" style="color:green">DISTANCE<span class="right">Calculate the distance/s between pairs of atoms. <a href="https://www.plumed.org/doc-master/user-doc/html/DISTANCE" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ATOMS<span class="right">the pair of atom that we are calculating the distance between<i></i></span></span>=3,4
<b name="data/RMSD.md_working_3.datt3" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datt3","data/RMSD.md_working_3.datt3","black")'>t3</b><span style="display:none;" id="data/RMSD.md_working_3.datt3">The DISTANCE action with label <b>t3</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">t3</td><td width="5%"><font color="black">scalar</font></td><td>the DISTANCE between this pair of atoms</td></tr></table></span>: <span class="plumedtooltip" style="color:green">DISTANCE<span class="right">Calculate the distance/s between pairs of atoms. <a href="https://www.plumed.org/doc-master/user-doc/html/DISTANCE" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ATOMS<span class="right">the pair of atom that we are calculating the distance between<i></i></span></span>=5,6

<span id="data/RMSD.md_working_3.datpca_short"><span id="data/RMSD.md_working_3.datdefpca_short"><b name="data/RMSD.md_working_3.datpca" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca","data/RMSD.md_working_3.datpca_shortcut","brown")'>pca</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_shortcut">The PCAVARS action with label <b>pca</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig</td><td width="5%"><font color="blue">vector</font></td><td>the projections on the eigenvalues</td></tr><tr><td width="5%">pca_residual</td><td width="5%"><font color="black">scalar</font></td><td>the residual distance that is not projected on any of the eigenvalues</td></tr></table></span>: <span class="plumedtooltip" style="color:green">PCAVARS<span class="right">Projection on principal component eigenvectors or other high dimensional linear subspace This action is <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_3.datpca");'>a shortcut</a> and it has <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_3.datdefpca");'>hidden defaults</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/PCAVARS">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">if there are arguments to be used specify them here<i></i></span></span>=<b name="data/RMSD.md_working_3.datt1">t1</b>,<b name="data/RMSD.md_working_3.datt2">t2</b>,<b name="data/RMSD.md_working_3.datt3">t3</b> <span class="plumedtooltip">REFERENCE<span class="right">a pdb file containing the set of reference configurations<i></i></span></span>=epath.pdb
</span><span id="data/RMSD.md_working_3.datdefpca_long" style="display:none;"><span style="display:none;" id="data/RMSD.md_working_3.datpca">The PCAVARS action with label <b>pca</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca.eig</td><td>the projections on the eigenvalues</td></tr><tr><td width="5%">pca.residual</td><td>the residual distance that is not projected on any of the eigenvalues</td></tr></table></span><b name="data/RMSD.md_working_3.datpca" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca","data/RMSD.md_working_3.datpca_shortcut","brown")'>pca</b>: <span class="plumedtooltip" style="color:green">PCAVARS<span class="right">Projection on principal component eigenvectors or other high dimensional linear subspace This action is <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_3.datpca");'>a shortcut</a> and uses the <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_3.datdefpca");'>defaults shown here</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/PCAVARS">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">if there are arguments to be used specify them here<i></i></span></span>=<b name="data/RMSD.md_working_3.datt1">t1</b>,<b name="data/RMSD.md_working_3.datt2">t2</b>,<b name="data/RMSD.md_working_3.datt3">t3</b> <span class="plumedtooltip">REFERENCE<span class="right">a pdb file containing the set of reference configurations<i></i></span></span>=epath.pdb  <span class="plumedtooltip">TYPE<span class="right"> the manner in which distances are calculated<i></i></span></span>=OPTIMAL-FAST
</span></span><span id="data/RMSD.md_working_3.datpca_long" style="display:none;"><span style="color:blue" class="comment"># PLUMED interprets the command:
</span><span class="toggler" style="color:red" onclick='toggleDisplay("data/RMSD.md_working_3.datpca")'># pca: PCAVARS ARG=t1,t2,t3 REFERENCE=epath.pdb</span>
<span style="color:blue" class="comment"># as follows (Click the red comment above to revert to the short version of the input):</span>
<b name="data/RMSD.md_working_3.datpca_ref_t1" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_ref_t1","data/RMSD.md_working_3.datpca_ref_t1","black")'>pca_ref_t1</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_ref_t1">The CONSTANT action with label <b>pca_ref_t1</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_ref_t1</td><td width="5%"><font color="black">scalar</font></td><td>the constant value that was read from the plumed input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">PDB2CONSTANT<span class="right">Create a constant value from a PDB input file <a href="https://www.plumed.org/doc-master/user-doc/html/PDB2CONSTANT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">NUMBER<span class="right"> if there are multiple structures in the pdb file you can specify that you want the RMSD from a specific structure by specifying its place in the file here<i></i></span></span>=1 <span class="plumedtooltip">REFERENCE<span class="right">a file in pdb format containing the reference structure<i></i></span></span>=epath.pdb <span class="plumedtooltip">ARG<span class="right">read this single argument from the input rather than the atomic structure<i></i></span></span>=<b name="data/RMSD.md_working_3.datt1">t1</b>
<b name="data/RMSD.md_working_3.datpca_ref_t2" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_ref_t2","data/RMSD.md_working_3.datpca_ref_t2","black")'>pca_ref_t2</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_ref_t2">The CONSTANT action with label <b>pca_ref_t2</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_ref_t2</td><td width="5%"><font color="black">scalar</font></td><td>the constant value that was read from the plumed input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">PDB2CONSTANT<span class="right">Create a constant value from a PDB input file <a href="https://www.plumed.org/doc-master/user-doc/html/PDB2CONSTANT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">NUMBER<span class="right"> if there are multiple structures in the pdb file you can specify that you want the RMSD from a specific structure by specifying its place in the file here<i></i></span></span>=1 <span class="plumedtooltip">REFERENCE<span class="right">a file in pdb format containing the reference structure<i></i></span></span>=epath.pdb <span class="plumedtooltip">ARG<span class="right">read this single argument from the input rather than the atomic structure<i></i></span></span>=<b name="data/RMSD.md_working_3.datt2">t2</b>
<b name="data/RMSD.md_working_3.datpca_ref_t3" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_ref_t3","data/RMSD.md_working_3.datpca_ref_t3","black")'>pca_ref_t3</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_ref_t3">The CONSTANT action with label <b>pca_ref_t3</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_ref_t3</td><td width="5%"><font color="black">scalar</font></td><td>the constant value that was read from the plumed input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">PDB2CONSTANT<span class="right">Create a constant value from a PDB input file <a href="https://www.plumed.org/doc-master/user-doc/html/PDB2CONSTANT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">NUMBER<span class="right"> if there are multiple structures in the pdb file you can specify that you want the RMSD from a specific structure by specifying its place in the file here<i></i></span></span>=1 <span class="plumedtooltip">REFERENCE<span class="right">a file in pdb format containing the reference structure<i></i></span></span>=epath.pdb <span class="plumedtooltip">ARG<span class="right">read this single argument from the input rather than the atomic structure<i></i></span></span>=<b name="data/RMSD.md_working_3.datt3">t3</b>
<b name="data/RMSD.md_working_3.datpca_argdist" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_argdist","data/RMSD.md_working_3.datpca_argdist","black")'>pca_argdist</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_argdist">The MATRIX_PRODUCT_DIAGONAL action with label <b>pca_argdist</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_argdist</td><td width="5%"><font color="black">scalar</font></td><td>a vector containing the diagonal elements of the matrix that obtaned by multiplying the two input matrices together</td></tr></table></span>: <span class="plumedtooltip" style="color:green">EUCLIDEAN_DISTANCE<span class="right">Calculate the euclidean distance between two vectors of arguments <a href="https://www.plumed.org/doc-master/user-doc/html/EUCLIDEAN_DISTANCE" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">SQUARED<span class="right"> The squared distance should be calculated<i></i></span></span> <span class="plumedtooltip">ARG1<span class="right">The poin that we are calculating the distance from<i></i></span></span>=<b name="data/RMSD.md_working_3.datt1">t1</b>,<b name="data/RMSD.md_working_3.datt2">t2</b>,<b name="data/RMSD.md_working_3.datt3">t3</b> <span class="plumedtooltip">ARG2<span class="right">The point that we are calculating the distance to<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_ref_t1">pca_ref_t1</b>,<b name="data/RMSD.md_working_3.datpca_ref_t2">pca_ref_t2</b>,<b name="data/RMSD.md_working_3.datpca_ref_t3">pca_ref_t3</b>
<b name="data/RMSD.md_working_3.datpca_peig" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_peig","data/RMSD.md_working_3.datpca_peig","red")'>pca_peig</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_peig">The CONSTANT action with label <b>pca_peig</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_peig</td><td width="5%"><font color="red">matrix</font></td><td>the constant value that was read from the plumed input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CONSTANT<span class="right">Create a constant value that can be passed to actions <a href="https://www.plumed.org/doc-master/user-doc/html/CONSTANT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">VALUES<span class="right">the numbers that are in your constant value<i></i></span></span>=-0.656461,0.523102,0.543529,-0.650732,0.515545,0.55746,-0.644498,0.507446,0.571945,-0.637706,0.498751,0.587009,-0.630318,0.489395,0.602654,-0.62227,0.479312,0.618902,-0.613474,0.468472,0.635755,-0.603883,0.456782,0.653204,-0.593407,0.444175,0.67125 <span class="plumedtooltip">NROWS<span class="right"> the number of rows in your input matrix<i></i></span></span>=9 <span class="plumedtooltip">NCOLS<span class="right"> the number of columns in your matrix<i></i></span></span>=3
<b name="data/RMSD.md_working_3.datpca_eig" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_eig","data/RMSD.md_working_3.datpca_eig","blue")'>pca_eig</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_eig">The MATRIX_VECTOR_PRODUCT action with label <b>pca_eig</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig</td><td width="5%"><font color="blue">vector</font></td><td>the vector that is obtained by taking the product between the matrix and the vector that were input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">MATRIX_VECTOR_PRODUCT<span class="right">Calculate the product of the matrix and the vector <a href="https://www.plumed.org/doc-master/user-doc/html/MATRIX_VECTOR_PRODUCT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the label for the matrix and the vector/scalar that are being multiplied<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_peig">pca_peig</b>,pca_argdist_diffT
<b name="data/RMSD.md_working_3.datpca_eig-1" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_eig-1","data/RMSD.md_working_3.datpca_eig-1","blue")'>pca_eig-1</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_eig-1">The SELECT_WITH_MASK action with label <b>pca_eig-1</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig-1</td><td width="5%"><font color="blue">vector</font></td><td>a vector/matrix of values that is obtained using a mask to select elements of interest</td></tr></table></span>: <span class="plumedtooltip" style="color:green">SELECT_COMPONENTS<span class="right">Create a new value to hold a subset of the components that are in a vector or matrix <a href="https://www.plumed.org/doc-master/user-doc/html/SELECT_COMPONENTS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the value from which we are selecting components<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_eig">pca_eig</b> <span class="plumedtooltip">COMPONENTS<span class="right">the components in the input value that you woul like to build a new vector from<i></i></span></span>=1
<b name="data/RMSD.md_working_3.datpca_eig-2" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_eig-2","data/RMSD.md_working_3.datpca_eig-2","blue")'>pca_eig-2</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_eig-2">The SELECT_WITH_MASK action with label <b>pca_eig-2</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig-2</td><td width="5%"><font color="blue">vector</font></td><td>a vector/matrix of values that is obtained using a mask to select elements of interest</td></tr></table></span>: <span class="plumedtooltip" style="color:green">SELECT_COMPONENTS<span class="right">Create a new value to hold a subset of the components that are in a vector or matrix <a href="https://www.plumed.org/doc-master/user-doc/html/SELECT_COMPONENTS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the value from which we are selecting components<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_eig">pca_eig</b> <span class="plumedtooltip">COMPONENTS<span class="right">the components in the input value that you woul like to build a new vector from<i></i></span></span>=2
<b name="data/RMSD.md_working_3.datpca_eig-3" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_eig-3","data/RMSD.md_working_3.datpca_eig-3","blue")'>pca_eig-3</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_eig-3">The SELECT_WITH_MASK action with label <b>pca_eig-3</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig-3</td><td width="5%"><font color="blue">vector</font></td><td>a vector/matrix of values that is obtained using a mask to select elements of interest</td></tr></table></span>: <span class="plumedtooltip" style="color:green">SELECT_COMPONENTS<span class="right">Create a new value to hold a subset of the components that are in a vector or matrix <a href="https://www.plumed.org/doc-master/user-doc/html/SELECT_COMPONENTS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the value from which we are selecting components<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_eig">pca_eig</b> <span class="plumedtooltip">COMPONENTS<span class="right">the components in the input value that you woul like to build a new vector from<i></i></span></span>=3
<b name="data/RMSD.md_working_3.datpca_eig-4" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_eig-4","data/RMSD.md_working_3.datpca_eig-4","blue")'>pca_eig-4</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_eig-4">The SELECT_WITH_MASK action with label <b>pca_eig-4</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig-4</td><td width="5%"><font color="blue">vector</font></td><td>a vector/matrix of values that is obtained using a mask to select elements of interest</td></tr></table></span>: <span class="plumedtooltip" style="color:green">SELECT_COMPONENTS<span class="right">Create a new value to hold a subset of the components that are in a vector or matrix <a href="https://www.plumed.org/doc-master/user-doc/html/SELECT_COMPONENTS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the value from which we are selecting components<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_eig">pca_eig</b> <span class="plumedtooltip">COMPONENTS<span class="right">the components in the input value that you woul like to build a new vector from<i></i></span></span>=4
<b name="data/RMSD.md_working_3.datpca_eig-5" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_eig-5","data/RMSD.md_working_3.datpca_eig-5","blue")'>pca_eig-5</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_eig-5">The SELECT_WITH_MASK action with label <b>pca_eig-5</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig-5</td><td width="5%"><font color="blue">vector</font></td><td>a vector/matrix of values that is obtained using a mask to select elements of interest</td></tr></table></span>: <span class="plumedtooltip" style="color:green">SELECT_COMPONENTS<span class="right">Create a new value to hold a subset of the components that are in a vector or matrix <a href="https://www.plumed.org/doc-master/user-doc/html/SELECT_COMPONENTS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the value from which we are selecting components<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_eig">pca_eig</b> <span class="plumedtooltip">COMPONENTS<span class="right">the components in the input value that you woul like to build a new vector from<i></i></span></span>=5
<b name="data/RMSD.md_working_3.datpca_eig-6" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_eig-6","data/RMSD.md_working_3.datpca_eig-6","blue")'>pca_eig-6</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_eig-6">The SELECT_WITH_MASK action with label <b>pca_eig-6</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig-6</td><td width="5%"><font color="blue">vector</font></td><td>a vector/matrix of values that is obtained using a mask to select elements of interest</td></tr></table></span>: <span class="plumedtooltip" style="color:green">SELECT_COMPONENTS<span class="right">Create a new value to hold a subset of the components that are in a vector or matrix <a href="https://www.plumed.org/doc-master/user-doc/html/SELECT_COMPONENTS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the value from which we are selecting components<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_eig">pca_eig</b> <span class="plumedtooltip">COMPONENTS<span class="right">the components in the input value that you woul like to build a new vector from<i></i></span></span>=6
<b name="data/RMSD.md_working_3.datpca_eig-7" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_eig-7","data/RMSD.md_working_3.datpca_eig-7","blue")'>pca_eig-7</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_eig-7">The SELECT_WITH_MASK action with label <b>pca_eig-7</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig-7</td><td width="5%"><font color="blue">vector</font></td><td>a vector/matrix of values that is obtained using a mask to select elements of interest</td></tr></table></span>: <span class="plumedtooltip" style="color:green">SELECT_COMPONENTS<span class="right">Create a new value to hold a subset of the components that are in a vector or matrix <a href="https://www.plumed.org/doc-master/user-doc/html/SELECT_COMPONENTS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the value from which we are selecting components<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_eig">pca_eig</b> <span class="plumedtooltip">COMPONENTS<span class="right">the components in the input value that you woul like to build a new vector from<i></i></span></span>=7
<b name="data/RMSD.md_working_3.datpca_eig-8" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_eig-8","data/RMSD.md_working_3.datpca_eig-8","blue")'>pca_eig-8</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_eig-8">The SELECT_WITH_MASK action with label <b>pca_eig-8</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig-8</td><td width="5%"><font color="blue">vector</font></td><td>a vector/matrix of values that is obtained using a mask to select elements of interest</td></tr></table></span>: <span class="plumedtooltip" style="color:green">SELECT_COMPONENTS<span class="right">Create a new value to hold a subset of the components that are in a vector or matrix <a href="https://www.plumed.org/doc-master/user-doc/html/SELECT_COMPONENTS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the value from which we are selecting components<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_eig">pca_eig</b> <span class="plumedtooltip">COMPONENTS<span class="right">the components in the input value that you woul like to build a new vector from<i></i></span></span>=8
<b name="data/RMSD.md_working_3.datpca_eig-9" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_eig-9","data/RMSD.md_working_3.datpca_eig-9","blue")'>pca_eig-9</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_eig-9">The SELECT_WITH_MASK action with label <b>pca_eig-9</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig-9</td><td width="5%"><font color="blue">vector</font></td><td>a vector/matrix of values that is obtained using a mask to select elements of interest</td></tr></table></span>: <span class="plumedtooltip" style="color:green">SELECT_COMPONENTS<span class="right">Create a new value to hold a subset of the components that are in a vector or matrix <a href="https://www.plumed.org/doc-master/user-doc/html/SELECT_COMPONENTS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the value from which we are selecting components<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_eig">pca_eig</b> <span class="plumedtooltip">COMPONENTS<span class="right">the components in the input value that you woul like to build a new vector from<i></i></span></span>=9
<b name="data/RMSD.md_working_3.datpca_eig2" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_eig2","data/RMSD.md_working_3.datpca_eig2","blue")'>pca_eig2</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_eig2">The CUSTOM action with label <b>pca_eig2</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig2</td><td width="5%"><font color="blue">vector</font></td><td>the vector obtained by doing an element-wise application of an arbitrary function to the input vectors</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CUSTOM<span class="right">Calculate a combination of variables using a custom expression. <a href="https://www.plumed.org/doc-master/user-doc/html/CUSTOM" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the values input to this function<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_eig">pca_eig</b> <span class="plumedtooltip">FUNC<span class="right">the function you wish to evaluate<i></i></span></span>=x*x <span class="plumedtooltip">PERIODIC<span class="right">if the output of your function is periodic then you should specify the periodicity of the function<i></i></span></span>=NO
<b name="data/RMSD.md_working_3.datpca_eigsum2" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_eigsum2","data/RMSD.md_working_3.datpca_eigsum2","black")'>pca_eigsum2</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_eigsum2">The SUM action with label <b>pca_eigsum2</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eigsum2</td><td width="5%"><font color="black">scalar</font></td><td>the SUM of the elements in the input value</td></tr></table></span>: <span class="plumedtooltip" style="color:green">SUM<span class="right">Calculate the sum of the arguments <a href="https://www.plumed.org/doc-master/user-doc/html/SUM" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the vector/matrix/grid whose elements shuld be added together<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_eig2">pca_eig2</b> <span class="plumedtooltip">PERIODIC<span class="right">if the output of your function is periodic then you should specify the periodicity of the function<i></i></span></span>=NO
<b name="data/RMSD.md_working_3.datpca_residual" onclick='showPath("data/RMSD.md_working_3.dat","data/RMSD.md_working_3.datpca_residual","data/RMSD.md_working_3.datpca_residual","black")'>pca_residual</b><span style="display:none;" id="data/RMSD.md_working_3.datpca_residual">The CUSTOM action with label <b>pca_residual</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_residual</td><td width="5%"><font color="black">scalar</font></td><td>an arbitrary function</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CUSTOM<span class="right">Calculate a combination of variables using a custom expression. <a href="https://www.plumed.org/doc-master/user-doc/html/CUSTOM" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the values input to this function<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_argdist">pca_argdist</b>,<b name="data/RMSD.md_working_3.datpca_eigsum2">pca_eigsum2</b> <span class="plumedtooltip">FUNC<span class="right">the function you wish to evaluate<i></i></span></span>=sqrt(x-y) <span class="plumedtooltip">PERIODIC<span class="right">if the output of your function is periodic then you should specify the periodicity of the function<i></i></span></span>=NO
<span style="color:blue"># --- End of included input --- </span></span><span class="plumedtooltip" style="color:green">PRINT<span class="right">Print quantities to a file. <a href="https://www.plumed.org/doc-master/user-doc/html/PRINT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the labels of the values that you would like to print to the file<i></i></span></span>=<b name="data/RMSD.md_working_3.datpca_eig">pca_eig</b> <span class="plumedtooltip">FILE<span class="right">the name of the file on which to output these quantities<i></i></span></span>=colvar
</pre>
 {% endraw %} 

You can also use PCAVARS to compute the first input above as follows:

{% raw %}
<div class="plumedpreheader">
<div class="headerInfo" id="value_details_data/RMSD.md_working_4.dat"> Click on the labels of the actions for more information on what each action computes </div>
<div class="containerBadge">
<div class="headerBadge"><a href="RMSD.md_working_4.dat.plumed.stderr"><img src="https://img.shields.io/badge/v2.9-failed-red.svg" alt="tested onv2.9" /></a></div>
<div class="headerBadge"><a href="RMSD.md_working_4.dat.plumed_master.stderr"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested onmaster" /></a></div>
</div>
</div>
<pre class="plumedlisting">
<span id="data/RMSD.md_working_4.datpca_short"><b name="data/RMSD.md_working_4.datpca" onclick='showPath("data/RMSD.md_working_4.dat","data/RMSD.md_working_4.datpca","data/RMSD.md_working_4.datpca_shortcut","brown")'>pca</b><span style="display:none;" id="data/RMSD.md_working_4.datpca_shortcut">The PCAVARS action with label <b>pca</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig</td><td width="5%"><font color="blue">vector</font></td><td>the projections on the eigenvalues</td></tr><tr><td width="5%">pca_residual</td><td width="5%"><font color="black">scalar</font></td><td>the residual distance that is not projected on any of the eigenvalues</td></tr></table></span>: <span class="plumedtooltip" style="color:green">PCAVARS<span class="right">Projection on principal component eigenvectors or other high dimensional linear subspace This action is <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_4.datpca");'>a shortcut</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/PCAVARS">More details</a><i></i></span></span> <span class="plumedtooltip">REFERENCE<span class="right">a pdb file containing the set of reference configurations<i></i></span></span>=ref2.pdb <span class="plumedtooltip">TYPE<span class="right"> the manner in which distances are calculated<i></i></span></span>=OPTIMAL
</span><span id="data/RMSD.md_working_4.datpca_long" style="display:none;"><span style="color:blue" class="comment"># PLUMED interprets the command:
</span><span class="toggler" style="color:red" onclick='toggleDisplay("data/RMSD.md_working_4.datpca")'># pca: PCAVARS REFERENCE=ref2.pdb TYPE=OPTIMAL</span>
<span style="color:blue" class="comment"># as follows (Click the red comment above to revert to the short version of the input):</span>
<span style="display:none;" id="data/RMSD.md_working_4.datpca">The PCAVARS action with label <b>pca</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca.eig</td><td>the projections on the eigenvalues</td></tr><tr><td width="5%">pca.residual</td><td>the residual distance that is not projected on any of the eigenvalues</td></tr></table></span><b name="data/RMSD.md_working_4.datpca_at" onclick='showPath("data/RMSD.md_working_4.dat","data/RMSD.md_working_4.datpca_at","data/RMSD.md_working_4.datpca_at","brown")'>pca_at</b><span style="display:none;" id="data/RMSD.md_working_4.datpca_at">The RMSD action with label <b>pca_at</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_at.dist</td><td width="5%"><font color="black">scalar</font></td><td>the RMSD distance the atoms have moved</td></tr><tr><td width="5%">pca_at.disp</td><td width="5%"><font color="blue">vector</font></td><td>the vector of displacements for the atoms</td></tr></table></span>: <span class="plumedtooltip" style="color:green">RMSD<span class="right">Calculate the RMSD with respect to a reference structure. <a href="https://www.plumed.org/doc-master/user-doc/html/RMSD" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">DISPLACEMENT<span class="right"> Calculate the vector of displacements instead of the length of this vector<i></i></span></span> <span class="plumedtooltip">SQUARED<span class="right">  This should be setted if you want MSD instead of RMSD <i></i></span></span> <span class="plumedtooltip">NUMBER<span class="right"> if there are multiple structures in the pdb file you can specify that you want the RMSD from a specific structure by specifying its place in the file here<i></i></span></span>=1 <span class="plumedtooltip">REFERENCE<span class="right">a file in pdb format containing the reference structure and the atoms involved in the CV<i></i></span></span>=ref2.pdb <span class="plumedtooltip">TYPE<span class="right"> the manner in which RMSD alignment is performed<i></i></span></span>=OPTIMAL
<b name="data/RMSD.md_working_4.datpca_peig" onclick='showPath("data/RMSD.md_working_4.dat","data/RMSD.md_working_4.datpca_peig","data/RMSD.md_working_4.datpca_peig","red")'>pca_peig</b><span style="display:none;" id="data/RMSD.md_working_4.datpca_peig">The CONSTANT action with label <b>pca_peig</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_peig</td><td width="5%"><font color="red">matrix</font></td><td>the constant value that was read from the plumed input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CONSTANT<span class="right">Create a constant value that can be passed to actions <a href="https://www.plumed.org/doc-master/user-doc/html/CONSTANT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">VALUES<span class="right">the numbers that are in your constant value<i></i></span></span>=0.134643,0.221893,0.202631,0.21981,-0.153238,-0.103367,-0.115444,-0.111279,-0.0626363,-0.0619075,-0.0935589,-0.129895,0.134643,0.221893,0.202631,0.21981,-0.153238,-0.103367,-0.115444,-0.111279,-0.0626363,-0.0619075,-0.0935589,-0.129895 <span class="plumedtooltip">NROWS<span class="right"> the number of rows in your input matrix<i></i></span></span>=2 <span class="plumedtooltip">NCOLS<span class="right"> the number of columns in your matrix<i></i></span></span>=12
<b name="data/RMSD.md_working_4.datpca_eig" onclick='showPath("data/RMSD.md_working_4.dat","data/RMSD.md_working_4.datpca_eig","data/RMSD.md_working_4.datpca_eig","blue")'>pca_eig</b><span style="display:none;" id="data/RMSD.md_working_4.datpca_eig">The MATRIX_VECTOR_PRODUCT action with label <b>pca_eig</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig</td><td width="5%"><font color="blue">vector</font></td><td>the vector that is obtained by taking the product between the matrix and the vector that were input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">MATRIX_VECTOR_PRODUCT<span class="right">Calculate the product of the matrix and the vector <a href="https://www.plumed.org/doc-master/user-doc/html/MATRIX_VECTOR_PRODUCT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the label for the matrix and the vector/scalar that are being multiplied<i></i></span></span>=<b name="data/RMSD.md_working_4.datpca_peig">pca_peig</b>,<b name="data/RMSD.md_working_4.datpca_at">pca_at.disp</b>
<b name="data/RMSD.md_working_4.datpca_eig-1" onclick='showPath("data/RMSD.md_working_4.dat","data/RMSD.md_working_4.datpca_eig-1","data/RMSD.md_working_4.datpca_eig-1","blue")'>pca_eig-1</b><span style="display:none;" id="data/RMSD.md_working_4.datpca_eig-1">The SELECT_WITH_MASK action with label <b>pca_eig-1</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig-1</td><td width="5%"><font color="blue">vector</font></td><td>a vector/matrix of values that is obtained using a mask to select elements of interest</td></tr></table></span>: <span class="plumedtooltip" style="color:green">SELECT_COMPONENTS<span class="right">Create a new value to hold a subset of the components that are in a vector or matrix <a href="https://www.plumed.org/doc-master/user-doc/html/SELECT_COMPONENTS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the value from which we are selecting components<i></i></span></span>=<b name="data/RMSD.md_working_4.datpca_eig">pca_eig</b> <span class="plumedtooltip">COMPONENTS<span class="right">the components in the input value that you woul like to build a new vector from<i></i></span></span>=1
<b name="data/RMSD.md_working_4.datpca_eig-2" onclick='showPath("data/RMSD.md_working_4.dat","data/RMSD.md_working_4.datpca_eig-2","data/RMSD.md_working_4.datpca_eig-2","blue")'>pca_eig-2</b><span style="display:none;" id="data/RMSD.md_working_4.datpca_eig-2">The SELECT_WITH_MASK action with label <b>pca_eig-2</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig-2</td><td width="5%"><font color="blue">vector</font></td><td>a vector/matrix of values that is obtained using a mask to select elements of interest</td></tr></table></span>: <span class="plumedtooltip" style="color:green">SELECT_COMPONENTS<span class="right">Create a new value to hold a subset of the components that are in a vector or matrix <a href="https://www.plumed.org/doc-master/user-doc/html/SELECT_COMPONENTS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the value from which we are selecting components<i></i></span></span>=<b name="data/RMSD.md_working_4.datpca_eig">pca_eig</b> <span class="plumedtooltip">COMPONENTS<span class="right">the components in the input value that you woul like to build a new vector from<i></i></span></span>=2
<b name="data/RMSD.md_working_4.datpca_eig2" onclick='showPath("data/RMSD.md_working_4.dat","data/RMSD.md_working_4.datpca_eig2","data/RMSD.md_working_4.datpca_eig2","blue")'>pca_eig2</b><span style="display:none;" id="data/RMSD.md_working_4.datpca_eig2">The CUSTOM action with label <b>pca_eig2</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eig2</td><td width="5%"><font color="blue">vector</font></td><td>the vector obtained by doing an element-wise application of an arbitrary function to the input vectors</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CUSTOM<span class="right">Calculate a combination of variables using a custom expression. <a href="https://www.plumed.org/doc-master/user-doc/html/CUSTOM" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the values input to this function<i></i></span></span>=<b name="data/RMSD.md_working_4.datpca_eig">pca_eig</b> <span class="plumedtooltip">FUNC<span class="right">the function you wish to evaluate<i></i></span></span>=x*x <span class="plumedtooltip">PERIODIC<span class="right">if the output of your function is periodic then you should specify the periodicity of the function<i></i></span></span>=NO
<b name="data/RMSD.md_working_4.datpca_eigsum2" onclick='showPath("data/RMSD.md_working_4.dat","data/RMSD.md_working_4.datpca_eigsum2","data/RMSD.md_working_4.datpca_eigsum2","black")'>pca_eigsum2</b><span style="display:none;" id="data/RMSD.md_working_4.datpca_eigsum2">The SUM action with label <b>pca_eigsum2</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_eigsum2</td><td width="5%"><font color="black">scalar</font></td><td>the SUM of the elements in the input value</td></tr></table></span>: <span class="plumedtooltip" style="color:green">SUM<span class="right">Calculate the sum of the arguments <a href="https://www.plumed.org/doc-master/user-doc/html/SUM" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the vector/matrix/grid whose elements shuld be added together<i></i></span></span>=<b name="data/RMSD.md_working_4.datpca_eig2">pca_eig2</b> <span class="plumedtooltip">PERIODIC<span class="right">if the output of your function is periodic then you should specify the periodicity of the function<i></i></span></span>=NO
<b name="data/RMSD.md_working_4.datpca_residual" onclick='showPath("data/RMSD.md_working_4.dat","data/RMSD.md_working_4.datpca_residual","data/RMSD.md_working_4.datpca_residual","black")'>pca_residual</b><span style="display:none;" id="data/RMSD.md_working_4.datpca_residual">The CUSTOM action with label <b>pca_residual</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">pca_residual</td><td width="5%"><font color="black">scalar</font></td><td>an arbitrary function</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CUSTOM<span class="right">Calculate a combination of variables using a custom expression. <a href="https://www.plumed.org/doc-master/user-doc/html/CUSTOM" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the values input to this function<i></i></span></span>=<b name="data/RMSD.md_working_4.datpca_at">pca_at.dist</b>,<b name="data/RMSD.md_working_4.datpca_eigsum2">pca_eigsum2</b> <span class="plumedtooltip">FUNC<span class="right">the function you wish to evaluate<i></i></span></span>=sqrt(x-y) <span class="plumedtooltip">PERIODIC<span class="right">if the output of your function is periodic then you should specify the periodicity of the function<i></i></span></span>=NO
<span style="color:blue"># --- End of included input --- </span></span><span class="plumedtooltip" style="color:green">PRINT<span class="right">Print quantities to a file. <a href="https://www.plumed.org/doc-master/user-doc/html/PRINT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the labels of the values that you would like to print to the file<i></i></span></span>=<b name="data/RMSD.md_working_4.datpca">pca.*</b> <span class="plumedtooltip">FILE<span class="right">the name of the file on which to output these quantities<i></i></span></span>=colvar 
</pre>
 {% endraw %} 

##Â Inside the RMSD command

The way the RMSD command works had to be changed slightly to make inputs like the one above work.  To be clear, however, if you use the following input:

{% raw %}
<div class="plumedpreheader">
<div class="headerInfo" id="value_details_data/RMSD.md_working_5.dat"> Click on the labels of the actions for more information on what each action computes </div>
<div class="containerBadge">
<div class="headerBadge"><a href="RMSD.md_working_5.dat.plumed.stderr"><img src="https://img.shields.io/badge/v2.9-passing-green.svg" alt="tested onv2.9" /></a></div>
<div class="headerBadge"><a href="RMSD.md_working_5.dat.plumed_master.stderr"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested onmaster" /></a></div>
</div>
</div>
<pre class="plumedlisting">
<span id="data/RMSD.md_working_5.datdefrmsd0_short"><b name="data/RMSD.md_working_5.datrmsd0" onclick='showPath("data/RMSD.md_working_5.dat","data/RMSD.md_working_5.datrmsd0","data/RMSD.md_working_5.datrmsd0","black")'>rmsd0</b><span style="display:none;" id="data/RMSD.md_working_5.datrmsd0">The RMSD action with label <b>rmsd0</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">rmsd0</td><td width="5%"><font color="black">scalar</font></td><td>the RMSD between the instantaneous structure and the reference structure that was input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">RMSD<span class="right">Calculate the RMSD with respect to a reference structure. This action has <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_5.datdefrmsd0");'>hidden defaults</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/RMSD">More details</a><i></i></span></span> <span class="plumedtooltip">TYPE<span class="right"> the manner in which RMSD alignment is performed<i></i></span></span>=OPTIMAL <span class="plumedtooltip">REFERENCE<span class="right">a file in pdb format containing the reference structure and the atoms involved in the CV<i></i></span></span>=reference.pdb 
</span><span id="data/RMSD.md_working_5.datdefrmsd0_long" style="display:none;"><b name="data/RMSD.md_working_5.datrmsd0" onclick='showPath("data/RMSD.md_working_5.dat","data/RMSD.md_working_5.datrmsd0","data/RMSD.md_working_5.datrmsd0","black")'>rmsd0</b>: <span class="plumedtooltip" style="color:green">RMSD<span class="right">Calculate the RMSD with respect to a reference structure. This action uses the <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_5.datdefrmsd0");'>defaults shown here</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/RMSD">More details</a><i></i></span></span> <span class="plumedtooltip">TYPE<span class="right"> the manner in which RMSD alignment is performed<i></i></span></span>=OPTIMAL <span class="plumedtooltip">REFERENCE<span class="right">a file in pdb format containing the reference structure and the atoms involved in the CV<i></i></span></span>=reference.pdb  <span class="plumedtooltip">NUMBER<span class="right"> if there are multiple structures in the pdb file you can specify that you want the RMSD from a specific structure by specifying its place in the file here<i></i></span></span>=0
</span></pre>
 {% endraw %} 

Then what PLUMED does during the calclulate step is unchanged.  The only difference is that the command RMSD is a shortcut action.  If there is a single frame in the reference
PDB file and if the DISPLACEMENT option is not used then an RMSD_SCALAR action object is created.  This RMSD_SCALAR object is the old and familiar implementation of the RMSD colvar.

If, however, you use call RMSD with the DISPLACEMENT option as shown below:

{% raw %}
<div class="plumedpreheader">
<div class="headerInfo" id="value_details_data/RMSD.md_working_6.dat"> Click on the labels of the actions for more information on what each action computes </div>
<div class="containerBadge">
<div class="headerBadge"><a href="RMSD.md_working_6.dat.plumed.stderr"><img src="https://img.shields.io/badge/v2.9-failed-red.svg" alt="tested onv2.9" /></a></div>
<div class="headerBadge"><a href="RMSD.md_working_6.dat.plumed_master.stderr"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested onmaster" /></a></div>
</div>
</div>
<pre class="plumedlisting">
<span id="data/RMSD.md_working_6.datrmsd_short"><span id="data/RMSD.md_working_6.datdefrmsd_short"><b name="data/RMSD.md_working_6.datrmsd" onclick='showPath("data/RMSD.md_working_6.dat","data/RMSD.md_working_6.datrmsd","data/RMSD.md_working_6.datrmsd","brown")'>rmsd</b><span style="display:none;" id="data/RMSD.md_working_6.datrmsd">The RMSD action with label <b>rmsd</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">rmsd.dist</td><td width="5%"><font color="black">scalar</font></td><td>the RMSD distance the atoms have moved</td></tr><tr><td width="5%">rmsd.disp</td><td width="5%"><font color="blue">vector</font></td><td>the vector of displacements for the atoms</td></tr></table></span>: <span class="plumedtooltip" style="color:green">RMSD<span class="right">Calculate the RMSD with respect to a reference structure. This action is <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_6.datrmsd");'>a shortcut</a> and it has <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_6.datdefrmsd");'>hidden defaults</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/RMSD">More details</a><i></i></span></span> <span class="plumedtooltip">REFERENCE<span class="right">a file in pdb format containing the reference structure and the atoms involved in the CV<i></i></span></span>=reference.pdb <span class="plumedtooltip">TYPE<span class="right"> the manner in which RMSD alignment is performed<i></i></span></span>=OPTIMAL <span class="plumedtooltip">DISPLACEMENT<span class="right"> Calculate the vector of displacements instead of the length of this vector<i></i></span></span> <span class="plumedtooltip">SQUARED<span class="right">  This should be setted if you want MSD instead of RMSD <i></i></span></span>
</span><span id="data/RMSD.md_working_6.datdefrmsd_long" style="display:none;"><b name="data/RMSD.md_working_6.datrmsd" onclick='showPath("data/RMSD.md_working_6.dat","data/RMSD.md_working_6.datrmsd","data/RMSD.md_working_6.datrmsd","brown")'>rmsd</b>: <span class="plumedtooltip" style="color:green">RMSD<span class="right">Calculate the RMSD with respect to a reference structure. This action is <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_6.datrmsd");'>a shortcut</a> and uses the <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_6.datdefrmsd");'>defaults shown here</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/RMSD">More details</a><i></i></span></span> <span class="plumedtooltip">REFERENCE<span class="right">a file in pdb format containing the reference structure and the atoms involved in the CV<i></i></span></span>=reference.pdb <span class="plumedtooltip">TYPE<span class="right"> the manner in which RMSD alignment is performed<i></i></span></span>=OPTIMAL <span class="plumedtooltip">DISPLACEMENT<span class="right"> Calculate the vector of displacements instead of the length of this vector<i></i></span></span> <span class="plumedtooltip">SQUARED<span class="right">  This should be setted if you want MSD instead of RMSD <i></i></span></span>  <span class="plumedtooltip">NUMBER<span class="right"> if there are multiple structures in the pdb file you can specify that you want the RMSD from a specific structure by specifying its place in the file here<i></i></span></span>=0
</span></span><span id="data/RMSD.md_working_6.datrmsd_long" style="display:none;"><span style="color:blue" class="comment"># PLUMED interprets the command:
</span><span class="toggler" style="color:red" onclick='toggleDisplay("data/RMSD.md_working_6.datrmsd")'># rmsd: RMSD REFERENCE=reference.pdb TYPE=OPTIMAL DISPLACEMENT SQUARED</span>
<span style="color:blue" class="comment"># as follows (Click the red comment above to revert to the short version of the input):</span>
<b name="data/RMSD.md_working_6.datrmsd_ref" onclick='showPath("data/RMSD.md_working_6.dat","data/RMSD.md_working_6.datrmsd_ref","data/RMSD.md_working_6.datrmsd_ref","red")'>rmsd_ref</b><span style="display:none;" id="data/RMSD.md_working_6.datrmsd_ref">The CONSTANT action with label <b>rmsd_ref</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">rmsd_ref</td><td width="5%"><font color="red">matrix</font></td><td>the constant value that was read from the plumed input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">PDB2CONSTANT<span class="right">Create a constant value from a PDB input file <a href="https://www.plumed.org/doc-master/user-doc/html/PDB2CONSTANT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">REFERENCE<span class="right">a file in pdb format containing the reference structure<i></i></span></span>=reference.pdb <span class="plumedtooltip">NUMBER<span class="right"> if there are multiple structures in the pdb file you can specify that you want the RMSD from a specific structure by specifying its place in the file here<i></i></span></span>=0
<span class="plumedtooltip" style="color:green">WHOLEMOLECULES<span class="right">This action is used to rebuild molecules that can become split by the periodic boundary conditions. <a href="https://www.plumed.org/doc-master/user-doc/html/WHOLEMOLECULES" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ENTITY0<span class="right">the atoms that make up a molecule that you wish to align<i></i></span></span>=2,5,9,13
<span style="display:none;" id="data/RMSD.md_working_6.dat">The WHOLEMOLECULES action with label <b></b> calculates something</span><b name="data/RMSD.md_working_6.datrmsd_cpos" onclick='showPath("data/RMSD.md_working_6.dat","data/RMSD.md_working_6.datrmsd_cpos","data/RMSD.md_working_6.datrmsd_cpos","blue")'>rmsd_cpos</b><span style="display:none;" id="data/RMSD.md_working_6.datrmsd_cpos">The POSITION action with label <b>rmsd_cpos</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">rmsd_cpos.x</td><td width="5%"><font color="blue">vector</font></td><td>the x-component of the atom position</td></tr><tr><td width="5%">rmsd_cpos.y</td><td width="5%"><font color="blue">vector</font></td><td>the y-component of the atom position</td></tr><tr><td width="5%">rmsd_cpos.z</td><td width="5%"><font color="blue">vector</font></td><td>the z-component of the atom position</td></tr></table></span>: <span class="plumedtooltip" style="color:green">POSITION<span class="right">Calculate the components of the position of an atom or atoms. <a href="https://www.plumed.org/doc-master/user-doc/html/POSITION" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">NOPBC<span class="right"> ignore the periodic boundary conditions when calculating distances<i></i></span></span> <span class="plumedtooltip">ATOMS<span class="right">the atom numbers that you would like to use the positions of<i></i></span></span>=2,5,9,13
<b name="data/RMSD.md_working_6.datrmsd_pos" onclick='showPath("data/RMSD.md_working_6.dat","data/RMSD.md_working_6.datrmsd_pos","data/RMSD.md_working_6.datrmsd_pos","blue")'>rmsd_pos</b><span style="display:none;" id="data/RMSD.md_working_6.datrmsd_pos">The CONCATENATE action with label <b>rmsd_pos</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">rmsd_pos</td><td width="5%"><font color="blue">vector</font></td><td>the concatenated vector/matrix that was constructed from the input values</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CONCATENATE<span class="right">Join vectors or matrices together <a href="https://www.plumed.org/doc-master/user-doc/html/CONCATENATE" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the values that should be concatenated together to form the output vector<i></i></span></span>=<b name="data/RMSD.md_working_6.datrmsd_cpos">rmsd_cpos.x</b>,<b name="data/RMSD.md_working_6.datrmsd_cpos">rmsd_cpos.y</b>,<b name="data/RMSD.md_working_6.datrmsd_cpos">rmsd_cpos.z</b>
<span style="color:blue"># --- End of included input --- </span></span></pre>
 {% endraw %} 

Then the following input is created by the shortcut:

{% raw %}
<div class="plumedpreheader">
<div class="headerInfo" id="value_details_data/RMSD.md_working_7.dat"> Click on the labels of the actions for more information on what each action computes </div>
<div class="containerBadge">
<div class="headerBadge"><a href="RMSD.md_working_7.dat.plumed.stderr"><img src="https://img.shields.io/badge/v2.9-failed-red.svg" alt="tested onv2.9" /></a></div>
<div class="headerBadge"><a href="RMSD.md_working_7.dat.plumed_master.stderr"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested onmaster" /></a></div>
</div>
</div>
<pre class="plumedlisting">
<span style="color:blue" class="comment"># Converts the input pdb file to a constant</span>
<span id="data/RMSD.md_working_7.datrmsd_ref_short"><span id="data/RMSD.md_working_7.datdefrmsd_ref_short"><b name="data/RMSD.md_working_7.datrmsd_ref" onclick='showPath("data/RMSD.md_working_7.dat","data/RMSD.md_working_7.datrmsd_ref","data/RMSD.md_working_7.datrmsd_ref_shortcut","red")'>rmsd_ref</b><span style="display:none;" id="data/RMSD.md_working_7.datrmsd_ref_shortcut">The PDB2CONSTANT action with label <b>rmsd_ref</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">rmsd_ref</td><td width="5%"><font color="red">matrix</font></td><td>a value that is constructed from the information in the PDB file</td></tr></table></span>: <span class="plumedtooltip" style="color:green">PDB2CONSTANT<span class="right">Create a constant value from a PDB input file This action is <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_7.datrmsd_ref");'>a shortcut</a> and it has <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_7.datdefrmsd_ref");'>hidden defaults</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/PDB2CONSTANT">More details</a><i></i></span></span> <span class="plumedtooltip">REFERENCE<span class="right">a file in pdb format containing the reference structure<i></i></span></span>=reference.pdb
</span><span id="data/RMSD.md_working_7.datdefrmsd_ref_long" style="display:none;"><b name="data/RMSD.md_working_7.datrmsd_ref" onclick='showPath("data/RMSD.md_working_7.dat","data/RMSD.md_working_7.datrmsd_ref","data/RMSD.md_working_7.datrmsd_ref_shortcut","red")'>rmsd_ref</b>: <span class="plumedtooltip" style="color:green">PDB2CONSTANT<span class="right">Create a constant value from a PDB input file This action is <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_7.datrmsd_ref");'>a shortcut</a> and uses the <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_7.datdefrmsd_ref");'>defaults shown here</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/PDB2CONSTANT">More details</a><i></i></span></span> <span class="plumedtooltip">REFERENCE<span class="right">a file in pdb format containing the reference structure<i></i></span></span>=reference.pdb  <span class="plumedtooltip">NUMBER<span class="right"> if there are multiple structures in the pdb file you can specify that you want the RMSD from a specific structure by specifying its place in the file here<i></i></span></span>=0
</span></span><span id="data/RMSD.md_working_7.datrmsd_ref_long" style="display:none;"><span style="color:blue" class="comment"># PLUMED interprets the command:
</span><span class="toggler" style="color:red" onclick='toggleDisplay("data/RMSD.md_working_7.datrmsd_ref")'># rmsd_ref: PDB2CONSTANT REFERENCE=reference.pdb</span>
<span style="color:blue" class="comment"># as follows (Click the red comment above to revert to the short version of the input):</span>
<b name="data/RMSD.md_working_7.datrmsd_ref" onclick='showPath("data/RMSD.md_working_7.dat","data/RMSD.md_working_7.datrmsd_ref","data/RMSD.md_working_7.datrmsd_ref","red")'>rmsd_ref</b><span style="display:none;" id="data/RMSD.md_working_7.datrmsd_ref">The CONSTANT action with label <b>rmsd_ref</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">rmsd_ref</td><td width="5%"><font color="red">matrix</font></td><td>the constant value that was read from the plumed input</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CONSTANT<span class="right">Create a constant value that can be passed to actions <a href="https://www.plumed.org/doc-master/user-doc/html/CONSTANT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">NROWS<span class="right"> the number of rows in your input matrix<i></i></span></span>=1 <span class="plumedtooltip">NCOLS<span class="right"> the number of columns in your matrix<i></i></span></span>=12 <span class="plumedtooltip">VALUES<span class="right">the numbers that are in your constant value<i></i></span></span>=-0.57725,0.26075,0.07575,0.24075,-0.31125,0.16775,0.05175,0.09175,0.234,0.241,-0.063,-0.412
<span style="color:blue"># --- End of included input --- </span></span><span style="color:blue" class="comment"># Fix any broken bonds</span>
<span class="plumedtooltip" style="color:green">WHOLEMOLECULES<span class="right">This action is used to rebuild molecules that can become split by the periodic boundary conditions. <a href="https://www.plumed.org/doc-master/user-doc/html/WHOLEMOLECULES" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ENTITY0<span class="right">the atoms that make up a molecule that you wish to align<i></i></span></span>=2,5,9,13
<span style="color:blue" class="comment"># Get the instaneous positions of the atoms of interest</span>
<span style="display:none;" id="data/RMSD.md_working_7.dat">The WHOLEMOLECULES action with label <b></b> calculates something</span><b name="data/RMSD.md_working_7.datrmsd_cpos" onclick='showPath("data/RMSD.md_working_7.dat","data/RMSD.md_working_7.datrmsd_cpos","data/RMSD.md_working_7.datrmsd_cpos","blue")'>rmsd_cpos</b><span style="display:none;" id="data/RMSD.md_working_7.datrmsd_cpos">The POSITION action with label <b>rmsd_cpos</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">rmsd_cpos.x</td><td width="5%"><font color="blue">vector</font></td><td>the x-component of the atom position</td></tr><tr><td width="5%">rmsd_cpos.y</td><td width="5%"><font color="blue">vector</font></td><td>the y-component of the atom position</td></tr><tr><td width="5%">rmsd_cpos.z</td><td width="5%"><font color="blue">vector</font></td><td>the z-component of the atom position</td></tr></table></span>: <span class="plumedtooltip" style="color:green">POSITION<span class="right">Calculate the components of the position of an atom or atoms. <a href="https://www.plumed.org/doc-master/user-doc/html/POSITION" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">NOPBC<span class="right"> ignore the periodic boundary conditions when calculating distances<i></i></span></span> <span class="plumedtooltip">ATOMS<span class="right">the atom numbers that you would like to use the positions of<i></i></span></span>=2,5,9,13
<span style="color:blue" class="comment"># Concatenate all the instaneous positions into a single vector </span>
<b name="data/RMSD.md_working_7.datrmsd_pos" onclick='showPath("data/RMSD.md_working_7.dat","data/RMSD.md_working_7.datrmsd_pos","data/RMSD.md_working_7.datrmsd_pos","blue")'>rmsd_pos</b><span style="display:none;" id="data/RMSD.md_working_7.datrmsd_pos">The CONCATENATE action with label <b>rmsd_pos</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">rmsd_pos</td><td width="5%"><font color="blue">vector</font></td><td>the concatenated vector/matrix that was constructed from the input values</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CONCATENATE<span class="right">Join vectors or matrices together <a href="https://www.plumed.org/doc-master/user-doc/html/CONCATENATE" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the values that should be concatenated together to form the output vector<i></i></span></span>=<b name="data/RMSD.md_working_7.datrmsd_cpos">rmsd_cpos.x</b>,<b name="data/RMSD.md_working_7.datrmsd_cpos">rmsd_cpos.y</b>,<b name="data/RMSD.md_working_7.datrmsd_cpos">rmsd_cpos.z</b>
<span style="color:blue" class="comment"># Compute the RMSD</span>
<span id="data/RMSD.md_working_7.datdefrmsd_short"><b name="data/RMSD.md_working_7.datrmsd" onclick='showPath("data/RMSD.md_working_7.dat","data/RMSD.md_working_7.datrmsd","data/RMSD.md_working_7.datrmsd","brown")'>rmsd</b><span style="display:none;" id="data/RMSD.md_working_7.datrmsd">The RMSD action with label <b>rmsd</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">rmsd.dist</td><td width="5%"><font color="black">scalar</font></td><td>the RMSD distance the atoms have moved</td></tr><tr><td width="5%">rmsd.disp</td><td width="5%"><font color="blue">vector</font></td><td>the vector of displacements for the atoms</td></tr></table></span>: <span class="plumedtooltip" style="color:green">RMSD_VECTOR<span class="right"> This action has <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_7.datdefrmsd");'>hidden defaults</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/RMSD_VECTOR">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the labels of two actions that you are calculating the RMSD between<i></i></span></span>=<b name="data/RMSD.md_working_7.datrmsd_pos">rmsd_pos</b>,<b name="data/RMSD.md_working_7.datrmsd_ref">rmsd_ref</b> <span class="plumedtooltip">DISPLACEMENT<span class="right"> Calculate the vector of displacements instead of the length of this vector<i></i></span></span> <span class="plumedtooltip">ALIGN<span class="right"> the weights to use when aligning to the reference structure<i></i></span></span>=1,1,1,1 <span class="plumedtooltip">DISPLACE<span class="right"> the weights to use when calculating the displacement from the reference structure<i></i></span></span>=1,1,1,1
</span><span id="data/RMSD.md_working_7.datdefrmsd_long" style="display:none;"><b name="data/RMSD.md_working_7.datrmsd" onclick='showPath("data/RMSD.md_working_7.dat","data/RMSD.md_working_7.datrmsd","data/RMSD.md_working_7.datrmsd","brown")'>rmsd</b>: <span class="plumedtooltip" style="color:green">RMSD_VECTOR<span class="right"> This action uses the <a class="toggler" href='javascript:;' onclick='toggleDisplay("data/RMSD.md_working_7.datdefrmsd");'>defaults shown here</a>. <a href="https://www.plumed.org/doc-master/user-doc/html/RMSD_VECTOR">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the labels of two actions that you are calculating the RMSD between<i></i></span></span>=<b name="data/RMSD.md_working_7.datrmsd_pos">rmsd_pos</b>,<b name="data/RMSD.md_working_7.datrmsd_ref">rmsd_ref</b> <span class="plumedtooltip">DISPLACEMENT<span class="right"> Calculate the vector of displacements instead of the length of this vector<i></i></span></span> <span class="plumedtooltip">ALIGN<span class="right"> the weights to use when aligning to the reference structure<i></i></span></span>=1,1,1,1 <span class="plumedtooltip">DISPLACE<span class="right"> the weights to use when calculating the displacement from the reference structure<i></i></span></span>=1,1,1,1  <span class="plumedtooltip">TYPE<span class="right"> the manner in which RMSD alignment is performed<i></i></span></span>=SIMPLE
</span></pre>
 {% endraw %} 

This input is necessary because the RMSD_VECTOR command is an ActionWithArguments rather than a ActionAtomistic.  the RMSD_VECTOR command takes two vectors with equal lengths as input.
These vectors contain the instantaneous and reference configurations.  

Having RMSD as an ActionWithArguments may initially seem odd.  This change allows you to use this action in a number of different ways, however.  For example, you can read in two reference 
configurations usign the PDB2CONSTANT command and then calculate the RMSD vector connecting these two reference configurations using the RMSD command.  Better still you can pass arguments containing structures 
to plumed and then calculate the RMSD RMSD distance between the two input structures using RMSD directly.  I have used this functionality to reimplement the code in pathtools and adaptive path.  It can also be used 
when implementing dimensionality reduction algorithms such as MDS.  
