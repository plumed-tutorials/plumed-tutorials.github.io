## Biasing a simulation in the PIV-PathCV space

The files Liq.pdb and Ih.pdb contain the configurations of 144-molecule liquid water and hexagonal ice boxes respectively (TIP4P model). One can use them to construct a PIV-PathCV space to be used for biasing a Classical Molecular MD through metadynamics and simulating the crystallisation of undercooled homogeneous liquid water.

In order to set up such a metadynamics run one needs to add the following line to the plumed.dat file

{% raw %}
<div class="plumedpreheader">
<div class="headerInfo" id="value_details_data/PIV-PathCV_meta.md_working_1.dat"> Click on the labels of the actions for more information on what each action computes </div>
<div class="containerBadge">
<div class="headerBadge"><a href="PIV-PathCV_meta.md_working_1.dat.plumed.stderr"><img src="https://img.shields.io/badge/v2.9-failed-red.svg" alt="tested onv2.9" /></a></div>
<div class="headerBadge"><a href="PIV-PathCV_meta.md_working_1.dat.plumed_master.stderr"><img src="https://img.shields.io/badge/master-failed-red.svg" alt="tested onmaster" /></a></div>
</div>
</div>
<pre class="plumedlisting">
<span class="plumedtooltip" style="color:green">METAD<span class="right">Used to performed metadynamics on one or more collective variables. <a href="https://www.plumed.org/doc-master/user-doc/html/METAD" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the labels of the scalars on which the bias will act<i></i></span></span>=p1.s,p1.z <span class="plumedtooltip">SIGMA<span class="right">the widths of the Gaussian hills<i></i></span></span>=0.02,50.0   <span class="plumedtooltip">HEIGHT<span class="right">the heights of the Gaussian hills<i></i></span></span>=0.1 <span class="plumedtooltip">PACE<span class="right">the frequency for hill addition<i></i></span></span>=500   <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_1.datres" onclick='showPath("data/PIV-PathCV_meta.md_working_1.dat","data/PIV-PathCV_meta.md_working_1.datres","data/PIV-PathCV_meta.md_working_1.datres","brown")'>res</b>
<span style="display:none;" id="data/PIV-PathCV_meta.md_working_1.datres">The METAD action with label <b>res</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">res.bias</td><td>the instantaneous value of the bias potential</td></tr></table></span></pre>
 {% endraw %} 

and simulation box constraints to avoid too skewed cells:

{% raw %}
<div class="plumedpreheader">
<div class="headerInfo" id="value_details_data/PIV-PathCV_meta.md_working_2.dat"> Click on the labels of the actions for more information on what each action computes </div>
<div class="containerBadge">
<div class="headerBadge"><a href="PIV-PathCV_meta.md_working_2.dat.plumed.stderr"><img src="https://img.shields.io/badge/v2.9-passing-green.svg" alt="tested onv2.9" /></a></div>
<div class="headerBadge"><a href="PIV-PathCV_meta.md_working_2.dat.plumed_master.stderr"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested onmaster" /></a></div>
</div>
</div>
<pre class="plumedlisting">
<b name="data/PIV-PathCV_meta.md_working_2.datcell" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datcell","data/PIV-PathCV_meta.md_working_2.datcell","black")'>cell</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datcell">The CELL action with label <b>cell</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">cell.ax</td><td width="5%"><font color="black">scalar</font></td><td>the ax component of the cell matrix</td></tr><tr><td width="5%">cell.ay</td><td width="5%"><font color="black">scalar</font></td><td>the ay component of the cell matrix</td></tr><tr><td width="5%">cell.az</td><td width="5%"><font color="black">scalar</font></td><td>the az component of the cell matrix</td></tr><tr><td width="5%">cell.bx</td><td width="5%"><font color="black">scalar</font></td><td>the bx component of the cell matrix</td></tr><tr><td width="5%">cell.by</td><td width="5%"><font color="black">scalar</font></td><td>the by component of the cell matrix</td></tr><tr><td width="5%">cell.bz</td><td width="5%"><font color="black">scalar</font></td><td>the bz component of the cell matrix</td></tr><tr><td width="5%">cell.cx</td><td width="5%"><font color="black">scalar</font></td><td>the cx component of the cell matrix</td></tr><tr><td width="5%">cell.cy</td><td width="5%"><font color="black">scalar</font></td><td>the cy component of the cell matrix</td></tr><tr><td width="5%">cell.cz</td><td width="5%"><font color="black">scalar</font></td><td>the cz component of the cell matrix</td></tr></table></span>: <span class="plumedtooltip" style="color:green">CELL<span class="right">Get the components of the simulation cell <a href="https://www.plumed.org/doc-master/user-doc/html/CELL" style="color:green">More details</a><i></i></span></span>
<br/><span class="plumedtooltip" style="color:green">LOWER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/LOWER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.ax</b> <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=1.30  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=4000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datlax" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datlax","data/PIV-PathCV_meta.md_working_2.datlax","black")'>lax</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datlax">The LOWER_WALLS action with label <b>lax</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">lax.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">lax.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<span class="plumedtooltip" style="color:green">LOWER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/LOWER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.by</b> <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=1.30  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=4000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datlbx" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datlbx","data/PIV-PathCV_meta.md_working_2.datlbx","black")'>lbx</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datlbx">The LOWER_WALLS action with label <b>lbx</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">lbx.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">lbx.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<span class="plumedtooltip" style="color:green">LOWER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/LOWER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.cz</b> <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=1.30  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=4000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datlcx" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datlcx","data/PIV-PathCV_meta.md_working_2.datlcx","black")'>lcx</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datlcx">The LOWER_WALLS action with label <b>lcx</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">lcx.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">lcx.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<span class="plumedtooltip" style="color:green">UPPER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/UPPER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.ax</b> <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=2.00  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=4000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datuax" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datuax","data/PIV-PathCV_meta.md_working_2.datuax","black")'>uax</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datuax">The UPPER_WALLS action with label <b>uax</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">uax.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">uax.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<span class="plumedtooltip" style="color:green">UPPER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/UPPER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.by</b> <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=2.00  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=4000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datubx" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datubx","data/PIV-PathCV_meta.md_working_2.datubx","black")'>ubx</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datubx">The UPPER_WALLS action with label <b>ubx</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">ubx.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">ubx.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<span class="plumedtooltip" style="color:green">UPPER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/UPPER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.cz</b> <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=2.00  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=4000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datucx" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datucx","data/PIV-PathCV_meta.md_working_2.datucx","black")'>ucx</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datucx">The UPPER_WALLS action with label <b>ucx</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">ucx.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">ucx.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<br/><span class="plumedtooltip" style="color:green">LOWER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/LOWER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.ay</b> <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=-0.5  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=1000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datlay" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datlay","data/PIV-PathCV_meta.md_working_2.datlay","black")'>lay</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datlay">The LOWER_WALLS action with label <b>lay</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">lay.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">lay.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<span class="plumedtooltip" style="color:green">UPPER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/UPPER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.ay</b>  <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=0.5  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=1000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datuay" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datuay","data/PIV-PathCV_meta.md_working_2.datuay","black")'>uay</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datuay">The UPPER_WALLS action with label <b>uay</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">uay.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">uay.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<span class="plumedtooltip" style="color:green">LOWER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/LOWER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.az</b> <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=-0.5  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=1000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datlaz" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datlaz","data/PIV-PathCV_meta.md_working_2.datlaz","black")'>laz</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datlaz">The LOWER_WALLS action with label <b>laz</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">laz.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">laz.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<span class="plumedtooltip" style="color:green">UPPER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/UPPER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.az</b>  <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=0.5  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=1000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datuaz" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datuaz","data/PIV-PathCV_meta.md_working_2.datuaz","black")'>uaz</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datuaz">The UPPER_WALLS action with label <b>uaz</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">uaz.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">uaz.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<br/><span class="plumedtooltip" style="color:green">LOWER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/LOWER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.bx</b> <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=-0.5  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=1000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datlby" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datlby","data/PIV-PathCV_meta.md_working_2.datlby","black")'>lby</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datlby">The LOWER_WALLS action with label <b>lby</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">lby.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">lby.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<span class="plumedtooltip" style="color:green">UPPER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/UPPER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.bx</b>  <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=0.5  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=1000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datuby" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datuby","data/PIV-PathCV_meta.md_working_2.datuby","black")'>uby</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datuby">The UPPER_WALLS action with label <b>uby</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">uby.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">uby.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<span class="plumedtooltip" style="color:green">LOWER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/LOWER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.bz</b> <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=-0.5  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=1000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datlbz" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datlbz","data/PIV-PathCV_meta.md_working_2.datlbz","black")'>lbz</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datlbz">The LOWER_WALLS action with label <b>lbz</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">lbz.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">lbz.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<span class="plumedtooltip" style="color:green">UPPER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/UPPER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.bz</b>  <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=0.5  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=1000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datubz" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datubz","data/PIV-PathCV_meta.md_working_2.datubz","black")'>ubz</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datubz">The UPPER_WALLS action with label <b>ubz</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">ubz.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">ubz.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<br/><span class="plumedtooltip" style="color:green">LOWER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/LOWER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.cx</b> <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=-0.5  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=1000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datlcy" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datlcy","data/PIV-PathCV_meta.md_working_2.datlcy","black")'>lcy</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datlcy">The LOWER_WALLS action with label <b>lcy</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">lcy.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">lcy.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<span class="plumedtooltip" style="color:green">UPPER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/UPPER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.cx</b>  <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=0.5  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=1000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datucy" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datucy","data/PIV-PathCV_meta.md_working_2.datucy","black")'>ucy</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datucy">The UPPER_WALLS action with label <b>ucy</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">ucy.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">ucy.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<span class="plumedtooltip" style="color:green">LOWER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/LOWER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.cy</b> <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=-0.5  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=1000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datlcz" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datlcz","data/PIV-PathCV_meta.md_working_2.datlcz","black")'>lcz</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datlcz">The LOWER_WALLS action with label <b>lcz</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">lcz.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">lcz.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
<span class="plumedtooltip" style="color:green">UPPER_WALLS<span class="right">Defines a wall for the value of one or more collective variables, <a href="https://www.plumed.org/doc-master/user-doc/html/UPPER_WALLS" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the arguments on which the bias is acting<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datcell">cell.cy</b>  <span class="plumedtooltip">AT<span class="right">the positions of the wall<i></i></span></span>=0.5  <span class="plumedtooltip">KAPPA<span class="right">the force constant for the wall<i></i></span></span>=1000.0 <span class="plumedtooltip">LABEL<span class="right">a label for the action so that its output can be referenced in the input to other actions<i></i></span></span>=<b name="data/PIV-PathCV_meta.md_working_2.datucz" onclick='showPath("data/PIV-PathCV_meta.md_working_2.dat","data/PIV-PathCV_meta.md_working_2.datucz","data/PIV-PathCV_meta.md_working_2.datucz","black")'>ucz</b><span style="display:none;" id="data/PIV-PathCV_meta.md_working_2.datucz">The UPPER_WALLS action with label <b>ucz</b> calculates the following quantities:<table  align="center" frame="void" width="95%" cellpadding="5%"><tr><td width="5%"><b> Quantity </b>  </td><td width="5%"><b> Type </b>  </td><td><b> Description </b> </td></tr><tr><td width="5%">ucz.bias</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the bias potential</td></tr><tr><td width="5%">ucz.force2</td><td width="5%"><font color="black">scalar</font></td><td>the instantaneous value of the squared force due to this bias potential</td></tr></table></span>
</pre>
 {% endraw %} 

Finally the PRINT line of keywords needs to be updated in order to print out the bias potential

{% raw %}
<div class="plumedpreheader">
<div class="headerInfo" id="value_details_data/PIV-PathCV_meta.md_working_3.dat"> Click on the labels of the actions for more information on what each action computes </div>
<div class="containerBadge">
<div class="headerBadge"><a href="PIV-PathCV_meta.md_working_3.dat.plumed.stderr"><img src="https://img.shields.io/badge/v2.9-failed-red.svg" alt="tested onv2.9" /></a></div>
<div class="headerBadge"><a href="PIV-PathCV_meta.md_working_3.dat.plumed_master.stderr"><img src="https://img.shields.io/badge/master-failed-red.svg" alt="tested onmaster" /></a></div>
</div>
</div>
<pre class="plumedlisting">
<span class="plumedtooltip" style="color:green">PRINT<span class="right">Print quantities to a file. <a href="https://www.plumed.org/doc-master/user-doc/html/PRINT" style="color:green">More details</a><i></i></span></span> <span class="plumedtooltip">ARG<span class="right">the labels of the values that you would like to print to the file<i></i></span></span>=c1,c2,p1.s,p1.z,res.bias <span class="plumedtooltip">STRIDE<span class="right"> the frequency with which the quantities of interest should be output<i></i></span></span>=500  <span class="plumedtooltip">FILE<span class="right">the name of the file on which to output these quantities<i></i></span></span>=colvar <span class="plumedtooltip">FMT<span class="right"> the format that should be used to output real numbers<i></i></span></span>=%15.6f
</pre>
 {% endraw %} 

The biased MD can then be run with the GROMCS package 

{% raw %}
<div class="plumedpreheader">
<div class="headerInfo" id="value_details_data/PIV-PathCV_meta.md_working_4.dat"> Click on the labels of the actions for more information on what each action computes </div>
<div class="containerBadge">
<div class="headerBadge"><a href="PIV-PathCV_meta.md_working_4.dat.plumed.stderr"><img src="https://img.shields.io/badge/v2.9-failed-red.svg" alt="tested onv2.9" /></a></div>
<div class="headerBadge"><a href="PIV-PathCV_meta.md_working_4.dat.plumed_master.stderr"><img src="https://img.shields.io/badge/master-failed-red.svg" alt="tested onmaster" /></a></div>
</div>
</div>
<pre class="plumedlisting">
<span class="plumedtooltip" style="color:green">gmx<span class="right">This action is not part of PLUMED and was included by using a LOAD command <a href="https://www.plumed.org/doc-master/user-doc/html/LOAD" style="color:green">More details</a><i></i></span></span> grompp f mdmdp c Liqpdb p TIP4Ptop o metatpr
<span class="plumedtooltip" style="color:green">gmx<span class="right">This action is not part of PLUMED and was included by using a LOAD command <a href="https://www.plumed.org/doc-master/user-doc/html/LOAD" style="color:green">More details</a><i></i></span></span> mdrun deffnm meta plumed plumeddat
</pre>
 {% endraw %} 

input files md.mdp and TIP4P.top for gromacs are provided. A run of 24 hours on a 4-core standard laptop is enough to reproduce a crystallisation event.
